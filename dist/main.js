window.onload=function(){const e=document.getElementById("title"),t=document.getElementById("description"),n=document.getElementById("duedate");document.getElementsByClassName("button");let d=[];const o=document.querySelector("form"),c=function(e,t,n,d){this._title=e,this._description=t,this._duedate=n,this._checked=!1,this._id=Date.now()};function i(){e.value="",t.value="",n.value=""}const l=function(e){const t=document.getElementById("content"),n=document.querySelector(`[data-key='${e._id}']`);if(e.deleted)return void n.remove();const d=e._checked?"done":"",o=document.createElement("li");o.setAttribute("class",`todo-item ${d}`),o.setAttribute("data-key",e._id),o.innerHTML=`\n\n<span>Title:${e._title}</span><br>\n<span>${e._description}</span><br>\n<span>${e._duedate}</span><br>\n<label for = "${e._id}" class = 'js-tick'>Checkbox</label>\n<input id = "${e._id}" type = "checkbox" ><br>\n<button class="delete-todo js-delete-todo">Delete</button>\n`,n?t.replaceChild(o,n):t.append(o)};o.addEventListener("submit",(e=>{e.preventDefault();const t=document.getElementById("title").value,n=document.getElementById("description").value,o=document.getElementById("duedate").value;if(""===t||""===n||""===o)alert("Enter all fields");else{const e=new c(t,n,o);d.push(e),l(e),console.log(e),i()}})),document.querySelector("#content").addEventListener("click",(e=>{e.target.classList.contains("js-tick")&&(function(e){const t=d.findIndex((t=>t._id===Number(e)));d[t]._checked=!d[t]._checked,l(d[t])}(e.target.parentElement.dataset.key),console.log(d)),e.target.classList.contains("js-delete-todo")&&function(e){const t=d.findIndex((t=>t._id===Number(e))),n={deleted:!0,...d[t]};d=d.filter((t=>t._id!==Number(e))),l(n)}(e.target.parentElement.dataset.key)}))};